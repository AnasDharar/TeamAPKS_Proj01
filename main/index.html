<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ACM Hackathon</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="../anas ka toothpaste/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="stylesheet" href="feature.css">
  <link rel="stylesheet" href="ratingsys.css">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Gabarito:wght@400..900&family=Pacifico&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&family=Zain:ital,wght@0,200;0,300;0,400;0,700;0,800;0,900;1,300;1,400&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
  <style>
    /* Styles for the 3D Toothpaste Animation */
    /* Updated #container to be fixed so it stays in place during scroll */
    #container {
      position: fixed;
      width: 500px;
      height: 500px;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 10;
      display: none;
      /* border: 1px solid red; */
    }

    .cool-gradient {
      background: linear-gradient(45deg, #ff6ec4, #7873f5);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: none;
    }

    #big-splash-container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none;
      opacity: 0;
      z-index: 11;
    }

    #big-splash {
      width: 600px;
      height: auto;
    }

    #splash-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #1B3B6F;
      font-family: 'Inter Tight', Arial, sans-serif;
      font-size: 2em;
      text-align: center;
      font-weight: bold;
      pointer-events: none;
    }
  </style>
</head>

<body>
  <div class="first-view">
    <div class="navbar">
      <div class="logo">
        <img class="logo-img" src="../vectors/health_rate_trans.png" alt="">
      </div>
      <span class="get-started">Get Started</span>
    </div>
    <div class="prods">
      <div class="product"><img class="oreo" src="../vectors/oreo.png" alt=""></div>
      <div class="product"><img class="bourbon" src="../vectors/bourbon.png" alt=""></div>
      <div class="product"><img class="shampoo" src="../vectors/shampoo.png" alt=""></div>
      <div class="product"><img class="lays" src="../vectors/lays.png" alt=""></div>
      <div class="product"><img class="chips" src="../vectors/chips.png" alt=""></div>
      <div class="product"><img class="dettol" src="../vectors/dettol.png" alt=""></div>
      <div class="product"><img class="mamaearth" src="../vectors/mamaearth.png" alt=""></div>
      <div class="product"><img class="himalaya" src="../vectors/himalaya.png" alt=""></div>
      <div class="product"><img class="fogg" src="../vectors/fogg.png" alt=""></div>
    </div>
    <div class="title-box">
      <h1 class="title-box-title">Whats hidden in your loved products?</h1>
      <h3 class="title-box-subtitle">
        <img class="logo-img-intext" src="../vectors/health_rate_oneline.png" alt="">
        is a wellness-focused platform that provides personalized ratings for health, skincare, and food products,
        helping users make informed choices based on quality and value
      </h3>
    </div>
  </div>


  <!-- ----------------------------------------------------------------------------------------------------------- -->
  <!-- ----------------------------------------------------------------------------------------------------------- -->
  <!-- ----------------------------------------------------------------------------------------------------------- -->
  <!-- ----------------------------------------------------------------------------------------------------------- -->
  <div class="second-view">
    <div class="scroll-section">
      <section id="about-capability-cards">
        <!-- Each card is wrapped in a .card-wrapper -->
        <div class="card-wrapper">
          <div class="about-capability-card card1">
            Clear Ingredient Breakdown<br>
            <small>Understand product labels easily with simplified explanations.</small>
          </div>
        </div>
        <div class="card-wrapper">
          <div class="about-capability-card card2">
            Personalized Recommendations<br>
            <small>Get tailored suggestions based on your needs.</small>
          </div>
        </div>
        <div class="card-wrapper">
          <div class="about-capability-card card3">
            Authentic Product Ratings<br>
            <small>Data-backed ratings for reliable choices.</small>
          </div>
        </div>
        <div class="card-wrapper">
          <div class="about-capability-card card4">
            Community Database<br>
            <small>User-driven product information database.</small>
          </div>
        </div>

        <div class="bag-container">
          <img src="bagnew.png" alt="Shopping Bag" />
        </div>
      </section>
    </div>

    <div id="container"></div>

    <div id="big-splash-container">
      <img id="big-splash" src="image.png" alt="Purple Splash" />
      <div id="splash-text">
        Know more about our item
        <span class="cool-gradient">personalized rating</span>
        system
      </div>
    </div>
  </div>
  <!-- ----------------------------------------------------------------------------------------------------------- -->
  <!-- ----------------------------------------------------------------------------------------------------------- -->
  <!-- ----------------------------------------------------------------------------------------------------------- -->
  <!-- ----------------------------------------------------------------------------------------------------------- -->
  <!-- 3D TOOTHPASTE Section -->
  <!-- This section comes from your toothpaste animation code -->

  <!-- this is toothpaste container -->
  <!-- <div id="sample"></div> -->
  <!-- ----------------------------------------------------------------------------------------------------------- -->
  <!-- ----------------------------------------------------------------------------------------------------------- -->
  <!-- ----------------------------------------------------------------------------------------------------------- -->
  <!-- ----------------------------------------------------------------------------------------------------------- -->
 <div class="third-view">
  <div class="container-all">
    <div>
      <div id="First_point_head">
        Algorithm-Driven Personalized Ratings
      </div>
      <div id="First_point_descrip1">
        Our research-backed algorithm considers quality, ingredients, and deviations from ideal standards to provide a reliable product rating. It ensures accuracy for everyday items by assessing ideal chemical levels and the risks of excess, helping consumers make informed and healthier choices with confidence.
      </div>
      <br>
    </div>
    <div id="First_point_descrip3">
      <img  class="container-image right" src="first_image.png" alt="Image">
    </div>
  </div>

  <!-- 2nd point starts here -->
  <div class="container-all reverse">
    <div>
      <div id="Second_point_head">
        Comprehensive Product Comparisons
      </div>
      <div id="Second_point_descrip1">
        Our system allows users to compare products side by side using standardized metrics, simplifying decision-making.
      </div>
      <br>
      <div id="Second_point_descrip2">
        It systematically evaluates key properties, providing a clear breakdown of pros and cons. With this structured assessment, users can easily identify the best options based on their needs, ensuring they make well-informed and value-driven choices.
      </div>
    </div>
    <div id="Second_point_descrip3">
      <img  class="container-image" src="Second_image.png" alt="Image">
    </div>
  </div>
  <!-- 2nd point ends here -->


  <!-- 3rd point -->
<div class="container-all">
  <div>
    <div id="Third_point_head">
      Data-Driven Transparency
    </div>
    <div id="Third_point_descrip1">
      Our ratings and recommendations rely on data-driven analysis rather than marketing claims, ensuring greater trust among consumers. 
    </div>
    <br>
    <div id="Third_point_descrip2">
      To maintain transparency, we provide users with access to our assessment data and rating algorithm. This openness allows users to see exactly how each product is evaluated, reinforcing confidence in our process and recommendations.
    </div>
  </div>
  <div id="Third_point_descrip3">
    <img  class="container-image right" src="Third_image.webp" alt="Image">
  </div>
</div>

  <!-- 3rd point ends here -->

  <!-- 4th point -->
  <div class="container-all reverse">
    <div>
      <div id="Forth_point_head">
        Empowerment Against Misleading Marketing
      </div>
      <div id="Forth_point_descrip1">
        We decode misleading buzzwords like “healthy” and “organic,” helping users see beyond deceptive marketing tactics. Many brands highlight claims like "99% Glycerin" or "Sodium Bicarbonate-Free," but few understand their true impact. Our platform educates consumers, ensuring they make informed choices based on facts rather than persuasive but vague product labels.
      </div>
      <br>
    </div>
    <div id="Forth_point_descrip3">
      <img class="container-image" src="Forth_image.png" alt="Image">
    </div>
  </div>
 </div>
  <!-- Scripts: Three.js, GLTFLoader, GSAP, and ScrollTrigger -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/loaders/GLTFLoader.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="feature.js"></script>
  <script>
    window.addEventListener('scroll', function() {
      if(window.scrollY > window.innerHeight*4.8){
        document.getElementById('container').style.display = 'block';
      }
    });
    gsap.registerPlugin(ScrollTrigger);

    let scene, camera, renderer;
    let toothpasteModel, toothpasteGroup;
    let dropletsGroup; // small droplet meshes

    init();
    animate();

    function init() {
      scene = new THREE.Scene();

      camera = new THREE.PerspectiveCamera(
        45,
        window.innerWidth / window.innerHeight,
        0.1,
        100
      );
      camera.position.set(0, 0, 5);
      renderer = new THREE.WebGLRenderer({
        antialias: true,
        alpha: true
      });
      renderer.setClearColor(0x000000, 0);
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.getElementById('container').appendChild(renderer.domElement);

      // Lights
      const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444, 1);
      hemiLight.position.set(0, 20, 0);
      scene.add(hemiLight);

      const dirLight = new THREE.DirectionalLight(0xffffff, 1);
      dirLight.position.set(3, 10, 10);
      scene.add(dirLight);

      // Load Toothpaste Model
      const loader = new THREE.GLTFLoader();
      loader.load('toothpaste.gltf', (gltf) => {
        toothpasteModel = gltf.scene;

        // Group to move/scale the toothpaste
        toothpasteGroup = new THREE.Group();
        toothpasteGroup.add(toothpasteModel);
        scene.add(toothpasteGroup);

        // Center the model so pivot is at center
        const box = new THREE.Box3().setFromObject(toothpasteModel);
        const center = box.getCenter(new THREE.Vector3());
        toothpasteModel.position.sub(center);

        // Position & rotate so it's pointing outward
        toothpasteGroup.position.set(0, -2, 0);
        toothpasteGroup.scale.set(0.15, 0.15, 0.15);
        toothpasteModel.rotation.set(0, 0, 0);

        // Create 3 droplet spheres
        dropletsGroup = createDroplets3D(3);
        scene.add(dropletsGroup);

        // Create scroll animation
        createScrollAnimation();
      });

      window.addEventListener('resize', onWindowResize);
    }

    // Increase droplet size from 0.03 to 0.06
    function createDroplets3D(count) {
      const group = new THREE.Group();
      const geometry = new THREE.SphereGeometry(0.06, 16, 16);
      const material = new THREE.MeshPhongMaterial({ color: 0xffffff });
      for (let i = 0; i < count; i++) {
        const drop = new THREE.Mesh(geometry, material.clone());
        drop.visible = false;
        group.add(drop);
      }
      return group;
    }

    const finalPositions = [
      { x: "-35vw", y: "-20vw" }, // Card 1
      { x: "-10vw", y: "-15vw" }, // Card 2
      { x: "15vw",  y: "-19vw" }, // Card 3
      { x: "40vw",  y: "-14vw"}  // Card 4
    ];

    const innerCards = document.querySelectorAll('.about-capability-card');

    function createScrollAnimation() {
      // Adjust total scroll distance to cover both sections (tweak as needed)
      const totalScrollDistance = 6500;

      const mainTL = gsap.timeline({
        scrollTrigger: {
          trigger: '#about-capability-cards',
          start: 'top top',
          end: `+=${totalScrollDistance}`,
          scrub: true,
          pin: true
        }
      });

      // Inner cards animation
      innerCards.forEach((card, i) => {
        mainTL.fromTo(
          card,
          { x: 0, y: 100, scale: 0.5, rotationY: 180 },
          { x: finalPositions[i].x, y: finalPositions[i].y, scale: 1.2, rotationY: 0, ease: 'power2.inOut', duration: 1 },
          i * 0.1
        );
      });

      // Add a label after inner cards finish
      mainTL.addLabel("innerCardsComplete");

      // Toothpaste animations start after the inner cards complete
      mainTL.to(
        toothpasteGroup.position,
        { y: 0, z: 0.75, duration: 1,opacity:1, ease: 'power2.inOut' },
        "innerCardsComplete"
      );

      mainTL.to(
        toothpasteModel.rotation,
        { x: Math.PI * 0.05, y: Math.PI, duration: 1, ease: 'power2.inOut' },
        "<"
      );

      // Show big splash image & text
      mainTL.to(
        '#big-splash-container',
        { duration: 0.8, opacity: 1, ease: 'power2.inOut' },
        '+=0.5'
      );

      // Hide big splash
      mainTL.to(
        '#big-splash-container',
        { duration: 0.5, opacity: 0, ease: 'power2.inOut' },
        '+=0.5'
      );

      // Move toothpaste away
      mainTL.to(
        toothpasteGroup.position,
        { y: 2, duration: 1, ease: 'power1.inOut' },
        '<'
      );

      // The continuous bobbing animation for card wrappers
      gsap.to('.card-wrapper', {
        y: '+=20',
        duration: 0.5,
        ease: 'sine.inOut',
        repeat: -1,
        yoyo: true
      });
    }

    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }

    function animate() {
      requestAnimationFrame(animate);
      renderer.render(scene, camera);
    }
  </script>
</body>

</html>
